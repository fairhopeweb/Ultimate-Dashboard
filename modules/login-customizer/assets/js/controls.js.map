{"mappings":"CAQC,SAAUA,GAMLC,OAAOC,UAAUC,WACrBF,OAAOC,UAAUC,SAAW,SAAUC,EAAQC,GAC7C,aAEA,GAAID,aAAkBE,OACrB,MAAMC,UAAU,uCAKjB,YAHcC,IAAVH,IACHA,EAAQ,IAE8B,IAAhCI,KAAKC,QAAQN,EAAQC,KAI9B,IAAIM,EAAS,GAwLb,SAASC,EAAqBC,EAAaC,GAC1CC,GAAGC,UAAUC,QAAQJ,GAAa,SAAUI,GAC3CA,EAAQC,SAASC,MAAK,SAAUC,GAC/B,GAAIA,EAAY,CACf,IAAIC,EAAaN,GACfC,UAAU,aAAeF,EAAY,gBACrCQ,MAEEP,GAAGC,UAAU,aAAeF,EAAY,aAAaQ,OACxDP,GAAGC,UACDO,QAAQ,aAAeT,EAAY,gBACnCU,WAEFC,EAAsBX,EAAWO,GAEjCN,GAAGC,UACDO,QAAQ,aAAeT,EAAY,YACnCU,WAEFT,GAAGC,UACDO,QAAQ,aAAeT,EAAY,cACnCU,aAEFT,GAAGC,UACDO,QAAQ,aAAeT,EAAY,gBACnCY,aAEFX,GAAGC,UACDO,QAAQ,aAAeT,EAAY,2BACnCY,aAEFX,GAAGC,UACDO,QAAQ,aAAeT,EAAY,yBACnCY,aAEFX,GAAGC,UACDO,QAAQ,aAAeT,EAAY,YACnCY,aAEFX,GAAGC,UACDO,QAAQ,aAAeT,EAAY,cACnCY,qBAMNX,GAAGC,UAAU,aAAeF,EAAY,aAAa,SAAUa,GAC9DA,EAAQR,MAAK,SAAUS,GACtB,IAAIP,EAAaN,GACfC,UAAU,aAAeF,EAAY,gBACrCQ,MAEEM,GACHC,SACEC,cACA,iCAAmChB,EAAY,eAE/CiB,UAAUC,OAAO,YAEnBjB,GAAGC,UACDO,QAAQ,aAAeT,EAAY,gBACnCU,WAEFC,EAAsBX,EAAWO,GAEjCN,GAAGC,UACDO,QAAQ,aAAeT,EAAY,YACnCU,WAEFT,GAAGC,UACDO,QAAQ,aAAeT,EAAY,cACnCU,aAEFK,SACEC,cACA,iCAAmChB,EAAY,eAE/CiB,UAAUE,IAAI,YAEhBlB,GAAGC,UACDO,QAAQ,aAAeT,EAAY,gBACnCY,aAEFX,GAAGC,UACDO,QAAQ,aAAeT,EAAY,YACnCY,aAEFX,GAAGC,UACDO,QAAQ,aAAeT,EAAY,cACnCY,oBAKLX,GAAGC,UAAU,aAAeF,EAAY,gBAAgB,SAAUa,GACjEA,EAAQR,MAAK,SAAUS,GACtBH,EAAsBX,EAAWc,SA8FpC,SAASH,EAAsBX,EAAWoB,GACzB,UAAZA,GACHnB,GAAGC,UACDO,QAAQ,aAAeT,EAAY,2BACnCU,WAEFT,GAAGC,UACDO,QAAQ,aAAeT,EAAY,yBACnCU,aAEFT,GAAGC,UACDO,QAAQ,aAAeT,EAAY,2BACnCY,aAEFX,GAAGC,UACDO,QAAQ,aAAeT,EAAY,yBACnCY,cArYJX,GAAGC,UAAUG,KAAK,SAAS,WAM3B,IAoBKgB,KAAcN,SAASO,iBAC1B,sCAGeC,QACf,GAAGC,MAAMC,KAAKJ,GAAaK,SAAQ,SAAUC,GAC5C,IAAIC,EAAab,SAASc,eAAeF,EAAGG,QAAQC,WAEhDC,EAAO,CACVC,OAAQ,SAAUC,EAAOC,GACxB,IAAIC,EAAMD,EAAGE,MAAMC,QACfC,EACH,QACAH,EAAII,EACJ,KACAJ,EAAIK,EACJ,KACAL,EAAIM,EACJ,KACAP,EAAGE,MAAMM,OACT,IAEDf,EAAWgB,MAAQL,EACnBX,EAAWiB,cAAc,IAAIC,MAAM,YAEpCC,MAAO,WACNnB,EAAWgB,MAAQ,GACnBhB,EAAWiB,cAAc,IAAIC,MAAM,YAEpCE,MAAM,EACNC,UAAU,GAGX/D,EAAEyC,GAAIuB,cAAclB,MAMtBmB,SAAWpC,SAASO,iBAAiB,gCAChC6B,SAAS5B,QAEd,GAAGC,MAAMC,KAAK0B,UAAUzB,SAAQ,SAAUjB,GACzC,IAAI2C,EAAc3C,EAAQqB,QAAQsB,YAC9BC,EAAS5C,EAAQO,cACpB,qBAAuBoC,EAAc,MAElCR,EAAQ,GAEZA,EAAMU,IAAMrD,GAAGC,UAAUkD,GAAa5C,MAAQ,GAE9CoC,EAAMW,KAAOX,EAAMU,IAAIE,QAAO,OAAS,IACvCZ,EAAMW,KAAOX,EAAMW,KAAOX,EAAMW,KAAO,IACvCX,EAAMa,OAASb,EAAMU,IAAIE,QAAQZ,EAAMW,KAAM,IAC7CX,EAAMa,OAASC,SAASd,EAAMa,OAAOE,OAAQ,IAE7C1D,GAAGC,UAAUkD,GAAa,SAAUvC,GACnCA,EAAQR,MAAK,SAAUS,GACtB8B,EAAMU,IAAMxC,EAAM,GAElB8B,EAAMW,KAAOX,EAAMU,IAAIE,QAAO,OAAS,IACvCZ,EAAMW,KAAOX,EAAMW,KAAOX,EAAMW,KAAO,IACvCX,EAAMa,OAASb,EAAMU,IAAIE,QAAQZ,EAAMW,KAAM,IAC7CX,EAAMa,OAASC,SAASd,EAAMa,OAAOE,OAAQ,IAE7CN,EAAOT,MAAQA,EAAMa,aAIvBJ,EAAOO,iBAAiB,SAAS,SAAUC,GAC1CjB,EAAMa,OAAS9D,KAAKiD,MAEpB3C,GAAGC,UAAUkD,GAAaU,IAAIlB,EAAMa,OAASb,EAAMW,SAGpD9C,EACEO,cAAc,gCACd4C,iBAAiB,SAAS,SAAUC,GACpC5D,GAAGC,UAAUkD,GAAaU,IAAInE,KAAKmC,QAAQiC,kBAM9CZ,SAAWpC,SAASO,iBAAiB,gCAChC6B,SAAS5B,QAEd,GAAGC,MAAMC,KAAK0B,UAAUzB,SAAQ,SAAUjB,GACzC,IAAIuD,EAAavD,EAAQO,cAAc,oBAClCgD,GACLA,EAAW/C,UAAUC,OAAO,mBAK7BiC,SAAWpC,SAASO,iBACnB,yCAEI6B,SAAS5B,QAEd,GAAGC,MAAMC,KAAK0B,UAAUzB,SAAQ,SAAUjB,GACzC,IAAI2C,EAAc3C,EAAQqB,QAAQsB,YAC9Ba,EAASxD,EAAQa,iBACpB,uCAGI2C,EAAO1C,QAEZ,GAAGC,MAAMC,KAAKwC,GAAQvC,SAAQ,SAAUwC,GACvCA,EAAMN,iBAAiB,SAAS,SAAUC,GACzC,IAAIM,EAAWxE,KAEf,GAAG6B,MAAMC,KAAKwC,GAAQvC,SAAQ,SAAU0C,GACnCA,GAAOD,EACVC,EAAIC,WAAWpD,UAAUE,IAAI,eAE7BiD,EAAIC,WAAWpD,UAAUC,OAAO,kBAIlCjB,GAAGC,UAAUkD,GAAaU,IAAInE,KAAKmC,QAAQwC,uBApI9CzE,EAAO0E,qBACP1E,EAAO2E,iBACP3E,EAAO4E,qBAEFC,mBAAmBC,YAGvB5D,SAAS6D,KAAK3D,UAAUE,IAAI,kBAF5BtB,EAAOgF,uBAhBHH,mBAAmBC,aA6WxBzF,EARC,2UAQU4F,aACV,+DAtNFjF,EAAO0E,mBAAqB,WAC3BtE,GAAGC,UAAU6E,MAAM,8BAA8B,SAAU5E,GAC1DA,EAAQC,SAASC,MAAK,SAAUC,GAC/B,IAAI0E,EAAa/E,GAAGC,UAAU+E,UAAUC,aAEpC5E,EACE0E,EAAW3F,SAASqF,mBAAmBS,eAC3ClF,GAAGC,UAAU+E,UAAUG,KACtB,uCACA,CAAEhF,SAAUE,IAKdL,GAAGC,UAAU+E,UAAUG,KAAK,sCAAuC,CAClEC,IAAKpF,GAAGC,UAAUoF,SAASD,IAAIE,cAOpC1F,EAAO2E,eAAiB,WACvB1E,EAAqB,kCAAmC,IACxDA,EAAqB,sCAAuC,UAyG7DD,EAAOgF,qBAAuB,WAC7B5E,GAAGC,UAAUC,QACZ,yCACA,SAAUA,GACTA,EAAQC,SAASC,MAAK,SAAUC,GAC/B,GAAIA,EAAY,CACf,IAAIsC,EAAQ3C,GAAGC,UAAU,uBAAuBM,MAE5CoC,GAAmB,YAAVA,EACZ3C,GAAGC,UAAU+E,UAAUG,KAAK,aAAc,QAE1CnF,GAAGC,UAAU+E,UAAUG,KAAK,aAAc,aAG3CnF,GAAGC,UAAU+E,UAAUG,KAAK,aAAc,eAO/CvF,EAAO4E,mBAAqB,WAC3BxE,GAAGC,UAAUC,QACZ,uCACA,SAAUA,GACTA,EAAQC,SAASC,MAAK,SAAUC,GAC/B,IAAIkF,EAAoBvF,GACtBC,UAAU,iCACVM,MAEEF,GACoD,YAAnDL,GAAGC,UAAU,4BAA4BM,QAC5CP,GAAGC,UACDO,QAAQ,sCACRC,WAEFT,GAAGC,UAAUO,QAAQ,gCAAgCC,WACrDT,GAAGC,UAAUO,QAAQ,gCAAgCC,WACrDT,GAAGC,UAAUO,QAAQ,gCAAgCC,WACrDT,GAAGC,UAAUO,QAAQ,iCAAiCC,WACtDT,GAAGC,UAAUO,QAAQ,iCAAiCC,WAElD8E,GACHvF,GAAGC,UAAUO,QAAQ,+BAA+BC,WAEpDT,GAAGC,UAAUO,QAAQ,gCAAgCC,aAErDT,GAAGC,UACDO,QAAQ,+BACRG,aAEFX,GAAGC,UACDO,QAAQ,gCACRG,qBAQRX,GAAGC,UAAU,iCAAiC,SAAUW,GACvDA,EAAQR,MAAK,SAAUS,GAClBA,GACHb,GAAGC,UAAUO,QAAQ,+BAA+BC,WACpDT,GAAGC,UAAUO,QAAQ,gCAAgCC,aAErDT,GAAGC,UAAUO,QAAQ,+BAA+BG,aACpDX,GAAGC,UAAUO,QAAQ,gCAAgCG,qBAtXzD,CA8ZE6E,OAAQxF,GAAGC","sources":["modules/login-customizer/src/js/controls.ts"],"sourcesContent":["/**\n * Scripts within customizer control panel.\n *\n * Used global objects:\n * - jQuery\n * - wp\n * - udbLoginCustomizer\n */\n(function ($) {\n\t/**\n\t * String.prototype.includes polyfill.\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\t */\n\tif (!String.prototype.includes) {\n\t\tString.prototype.includes = function (search, start) {\n\t\t\t\"use strict\";\n\n\t\t\tif (search instanceof RegExp) {\n\t\t\t\tthrow TypeError(\"first argument must not be a RegExp\");\n\t\t\t}\n\t\t\tif (start === undefined) {\n\t\t\t\tstart = 0;\n\t\t\t}\n\t\t\treturn this.indexOf(search, start) !== -1;\n\t\t};\n\t}\n\n\tvar events = {};\n\n\twp.customize.bind(\"ready\", function () {\n\t\tsetupControls();\n\t\tlisten();\n\t\tif (!udbLoginCustomizer.isProActive) insertProLink();\n\t});\n\n\tfunction setupControls() {\n\t\tcolorPickerControl();\n\t\trangeControl();\n\t\tcolorControl();\n\t\tloginTemplateControl();\n\t}\n\n\tfunction listen() {\n\t\tevents.switchLoginPreview();\n\t\tevents.bgFieldsChange();\n\t\tevents.layoutFieldsChange();\n\n\t\tif (!udbLoginCustomizer.isProActive) {\n\t\t\tevents.templateFieldsChange();\n\t\t} else {\n\t\t\tdocument.body.classList.add(\"udb-pro-active\");\n\t\t}\n\t}\n\n\tfunction colorPickerControl() {\n\t\tvar colorFields = document.querySelectorAll(\n\t\t\t\".udb-customize-color-picker-field\"\n\t\t);\n\n\t\tif (colorFields.length) {\n\t\t\t[].slice.call(colorFields).forEach(function (el) {\n\t\t\t\tvar valueField = document.getElementById(el.dataset.pickerFor);\n\n\t\t\t\tvar opts = {\n\t\t\t\t\tchange: function (event, ui) {\n\t\t\t\t\t\tvar rgb = ui.color.toRgb();\n\t\t\t\t\t\tvar rgba =\n\t\t\t\t\t\t\t\"rgba(\" +\n\t\t\t\t\t\t\trgb.r +\n\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\trgb.g +\n\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\trgb.b +\n\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\tui.color._alpha +\n\t\t\t\t\t\t\t\")\";\n\n\t\t\t\t\t\tvalueField.value = rgba;\n\t\t\t\t\t\tvalueField.dispatchEvent(new Event(\"change\"));\n\t\t\t\t\t},\n\t\t\t\t\tclear: function () {\n\t\t\t\t\t\tvalueField.value = \"\";\n\t\t\t\t\t\tvalueField.dispatchEvent(new Event(\"change\"));\n\t\t\t\t\t},\n\t\t\t\t\thide: true,\n\t\t\t\t\tpalettes: true,\n\t\t\t\t};\n\n\t\t\t\t$(el).wpColorPicker(opts);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction rangeControl() {\n\t\tcontrols = document.querySelectorAll(\".udb-customize-control-range\");\n\t\tif (!controls.length) return;\n\n\t\t[].slice.call(controls).forEach(function (control) {\n\t\t\tvar controlName = control.dataset.controlName;\n\t\t\tvar slider = control.querySelector(\n\t\t\t\t'[data-slider-for=\"' + controlName + '\"]'\n\t\t\t);\n\t\t\tvar value = {};\n\n\t\t\tvalue.raw = wp.customize(controlName).get() + \"\";\n\n\t\t\tvalue.unit = value.raw.replace(/\\d+/g, \"\");\n\t\t\tvalue.unit = value.unit ? value.unit : \"%\";\n\t\t\tvalue.number = value.raw.replace(value.unit, \"\");\n\t\t\tvalue.number = parseInt(value.number.trim(), 10);\n\n\t\t\twp.customize(controlName, function (setting) {\n\t\t\t\tsetting.bind(function (val) {\n\t\t\t\t\tvalue.raw = val + \"\";\n\n\t\t\t\t\tvalue.unit = value.raw.replace(/\\d+/g, \"\");\n\t\t\t\t\tvalue.unit = value.unit ? value.unit : \"%\";\n\t\t\t\t\tvalue.number = value.raw.replace(value.unit, \"\");\n\t\t\t\t\tvalue.number = parseInt(value.number.trim(), 10);\n\n\t\t\t\t\tslider.value = value.number;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tslider.addEventListener(\"input\", function (e) {\n\t\t\t\tvalue.number = this.value;\n\n\t\t\t\twp.customize(controlName).set(value.number + value.unit);\n\t\t\t});\n\n\t\t\tcontrol\n\t\t\t\t.querySelector(\".udb-customize-control-reset\")\n\t\t\t\t.addEventListener(\"click\", function (e) {\n\t\t\t\t\twp.customize(controlName).set(this.dataset.resetValue);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tfunction colorControl() {\n\t\tcontrols = document.querySelectorAll(\".udb-customize-control-color\");\n\t\tif (!controls.length) return;\n\n\t\t[].slice.call(controls).forEach(function (control) {\n\t\t\tvar clearColor = control.querySelector(\".wp-picker-clear\");\n\t\t\tif (!clearColor) return;\n\t\t\tclearColor.classList.remove(\"button-small\");\n\t\t});\n\t}\n\n\tfunction loginTemplateControl() {\n\t\tcontrols = document.querySelectorAll(\n\t\t\t\".udb-customize-control-login-template\"\n\t\t);\n\t\tif (!controls.length) return;\n\n\t\t[].slice.call(controls).forEach(function (control) {\n\t\t\tvar controlName = control.dataset.controlName;\n\t\t\tvar images = control.querySelectorAll(\n\t\t\t\t\".udb-customize-control-template img\"\n\t\t\t);\n\n\t\t\tif (!images.length) return;\n\n\t\t\t[].slice.call(images).forEach(function (image) {\n\t\t\t\timage.addEventListener(\"click\", function (e) {\n\t\t\t\t\tvar selected = this;\n\n\t\t\t\t\t[].slice.call(images).forEach(function (img) {\n\t\t\t\t\t\tif (img == selected) {\n\t\t\t\t\t\t\timg.parentNode.classList.add(\"is-selected\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\timg.parentNode.classList.remove(\"is-selected\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\twp.customize(controlName).set(this.dataset.templateName);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Change the page when the \"Login Customizer\" panel is expanded (or collapsed).\n\t */\n\tevents.switchLoginPreview = function () {\n\t\twp.customize.panel(\"udb_login_customizer_panel\", function (section) {\n\t\t\tsection.expanded.bind(function (isExpanded) {\n\t\t\t\tvar currentUrl = wp.customize.previewer.previewUrl();\n\n\t\t\t\tif (isExpanded) {\n\t\t\t\t\tif (!currentUrl.includes(udbLoginCustomizer.loginPageUrl)) {\n\t\t\t\t\t\twp.customize.previewer.send(\n\t\t\t\t\t\t\t\"udb-login-customizer-goto-login-page\",\n\t\t\t\t\t\t\t{ expanded: isExpanded }\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Head back to the home page, if we leave the \"Login Customizer\" panel.\n\t\t\t\t\twp.customize.previewer.send(\"udb-login-customizer-goto-home-page\", {\n\t\t\t\t\t\turl: wp.customize.settings.url.home,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tevents.bgFieldsChange = function () {\n\t\thandleBgFieldsChange(\"udb_login_customizer_bg_section\", \"\");\n\t\thandleBgFieldsChange(\"udb_login_customizer_layout_section\", \"form_\");\n\t};\n\n\tfunction handleBgFieldsChange(sectionName, keyPrefix) {\n\t\twp.customize.section(sectionName, function (section) {\n\t\t\tsection.expanded.bind(function (isExpanded) {\n\t\t\t\tif (isExpanded) {\n\t\t\t\t\tvar bgPosition = wp\n\t\t\t\t\t\t.customize(\"udb_login[\" + keyPrefix + \"bg_position]\")\n\t\t\t\t\t\t.get();\n\n\t\t\t\t\tif (wp.customize(\"udb_login[\" + keyPrefix + \"bg_image]\").get()) {\n\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_position]\")\n\t\t\t\t\t\t\t.activate();\n\n\t\t\t\t\t\thandleBgCustomPostion(keyPrefix, bgPosition);\n\n\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_size]\")\n\t\t\t\t\t\t\t.activate();\n\n\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_repeat]\")\n\t\t\t\t\t\t\t.activate();\n\t\t\t\t\t} else {\n\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_position]\")\n\t\t\t\t\t\t\t.deactivate();\n\n\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_horizontal_position]\")\n\t\t\t\t\t\t\t.deactivate();\n\n\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_vertical_position]\")\n\t\t\t\t\t\t\t.deactivate();\n\n\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_size]\")\n\t\t\t\t\t\t\t.deactivate();\n\n\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_repeat]\")\n\t\t\t\t\t\t\t.deactivate();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\twp.customize(\"udb_login[\" + keyPrefix + \"bg_image]\", function (setting) {\n\t\t\tsetting.bind(function (val) {\n\t\t\t\tvar bgPosition = wp\n\t\t\t\t\t.customize(\"udb_login[\" + keyPrefix + \"bg_position]\")\n\t\t\t\t\t.get();\n\n\t\t\t\tif (val) {\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.querySelector(\n\t\t\t\t\t\t\t'[data-control-name=\"udb_login[' + keyPrefix + 'bg_image]\"]'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.classList.remove(\"is-empty\");\n\n\t\t\t\t\twp.customize\n\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_position]\")\n\t\t\t\t\t\t.activate();\n\n\t\t\t\t\thandleBgCustomPostion(keyPrefix, bgPosition);\n\n\t\t\t\t\twp.customize\n\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_size]\")\n\t\t\t\t\t\t.activate();\n\n\t\t\t\t\twp.customize\n\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_repeat]\")\n\t\t\t\t\t\t.activate();\n\t\t\t\t} else {\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.querySelector(\n\t\t\t\t\t\t\t'[data-control-name=\"udb_login[' + keyPrefix + 'bg_image]\"]'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.classList.add(\"is-empty\");\n\n\t\t\t\t\twp.customize\n\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_position]\")\n\t\t\t\t\t\t.deactivate();\n\n\t\t\t\t\twp.customize\n\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_size]\")\n\t\t\t\t\t\t.deactivate();\n\n\t\t\t\t\twp.customize\n\t\t\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_repeat]\")\n\t\t\t\t\t\t.deactivate();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\twp.customize(\"udb_login[\" + keyPrefix + \"bg_position]\", function (setting) {\n\t\t\tsetting.bind(function (val) {\n\t\t\t\thandleBgCustomPostion(keyPrefix, val);\n\t\t\t});\n\t\t});\n\t}\n\n\tevents.templateFieldsChange = function () {\n\t\twp.customize.section(\n\t\t\t\"udb_login_customizer_template_section\",\n\t\t\tfunction (section) {\n\t\t\t\tsection.expanded.bind(function (isExpanded) {\n\t\t\t\t\tif (isExpanded) {\n\t\t\t\t\t\tvar value = wp.customize(\"udb_login[template]\").get();\n\n\t\t\t\t\t\tif (value && value !== \"default\") {\n\t\t\t\t\t\t\twp.customize.previewer.send(\"pro_notice\", \"show\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twp.customize.previewer.send(\"pro_notice\", \"hide\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\twp.customize.previewer.send(\"pro_notice\", \"hide\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t};\n\n\tevents.layoutFieldsChange = function () {\n\t\twp.customize.section(\n\t\t\t\"udb_login_customizer_layout_section\",\n\t\t\tfunction (section) {\n\t\t\t\tsection.expanded.bind(function (isExpanded) {\n\t\t\t\t\tvar formShadowEnabled = wp\n\t\t\t\t\t\t.customize(\"udb_login[enable_form_shadow]\")\n\t\t\t\t\t\t.get();\n\n\t\t\t\t\tif (isExpanded) {\n\t\t\t\t\t\tif (wp.customize(\"udb_login[form_position]\").get() === \"default\") {\n\t\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t\t.control(\"udb_login[form_horizontal_padding]\")\n\t\t\t\t\t\t\t\t.activate();\n\n\t\t\t\t\t\t\twp.customize.control(\"udb_login[form_border_width]\").activate();\n\t\t\t\t\t\t\twp.customize.control(\"udb_login[form_border_style]\").activate();\n\t\t\t\t\t\t\twp.customize.control(\"udb_login[form_border_color]\").activate();\n\t\t\t\t\t\t\twp.customize.control(\"udb_login[form_border_radius]\").activate();\n\t\t\t\t\t\t\twp.customize.control(\"udb_login[enable_form_shadow]\").activate();\n\n\t\t\t\t\t\t\tif (formShadowEnabled) {\n\t\t\t\t\t\t\t\twp.customize.control(\"udb_login[form_shadow_blur]\").activate();\n\n\t\t\t\t\t\t\t\twp.customize.control(\"udb_login[form_shadow_color]\").activate();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t\t\t.control(\"udb_login[form_shadow_blur]\")\n\t\t\t\t\t\t\t\t\t.deactivate();\n\n\t\t\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t\t\t.control(\"udb_login[form_shadow_color]\")\n\t\t\t\t\t\t\t\t\t.deactivate();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\n\t\twp.customize(\"udb_login[enable_form_shadow]\", function (setting) {\n\t\t\tsetting.bind(function (val) {\n\t\t\t\tif (val) {\n\t\t\t\t\twp.customize.control(\"udb_login[form_shadow_blur]\").activate();\n\t\t\t\t\twp.customize.control(\"udb_login[form_shadow_color]\").activate();\n\t\t\t\t} else {\n\t\t\t\t\twp.customize.control(\"udb_login[form_shadow_blur]\").deactivate();\n\t\t\t\t\twp.customize.control(\"udb_login[form_shadow_color]\").deactivate();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tfunction insertProLink() {\n\t\tvar proLink =\n\t\t\t'\\\n\t\t<li class=\"accordion-section control-section udb-pro-control-section\">\\\n\t\t\t<a href=\"https://ultimatedashboard.io/docs/login-customizer/?utm_source=plugin&utm_medium=login_customizer_link&utm_campaign=udb\" class=\"accordion-section-title\" target=\"_blank\" tabindex=\"0\">\\\n\t\t\t\tPRO Features available! ›\\\n\t\t\t</a>\\\n\t\t</li>\\\n\t\t';\n\n\t\t$(proLink).insertBefore(\n\t\t\t\"#accordion-section-udb_login_customizer_template_section\"\n\t\t);\n\t}\n\n\tfunction handleBgCustomPostion(keyPrefix, position) {\n\t\tif (position == \"custom\") {\n\t\t\twp.customize\n\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_horizontal_position]\")\n\t\t\t\t.activate();\n\n\t\t\twp.customize\n\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_vertical_position]\")\n\t\t\t\t.activate();\n\t\t} else {\n\t\t\twp.customize\n\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_horizontal_position]\")\n\t\t\t\t.deactivate();\n\n\t\t\twp.customize\n\t\t\t\t.control(\"udb_login[\" + keyPrefix + \"bg_vertical_position]\")\n\t\t\t\t.deactivate();\n\t\t}\n\t}\n})(jQuery, wp.customize);\n"],"names":["$","String","prototype","includes","search","start","RegExp","TypeError","undefined","this","indexOf","events","handleBgFieldsChange","sectionName","keyPrefix","wp","customize","section","expanded","bind","isExpanded","bgPosition","get","control","activate","handleBgCustomPostion","deactivate","setting","val","document","querySelector","classList","remove","add","position","colorFields","querySelectorAll","length","slice","call","forEach","el","valueField","getElementById","dataset","pickerFor","opts","change","event","ui","rgb","color","toRgb","rgba","r","g","b","_alpha","value","dispatchEvent","Event","clear","hide","palettes","wpColorPicker","controls","controlName","slider","raw","unit","replace","number","parseInt","trim","addEventListener","e","set","resetValue","clearColor","images","image","selected","img","parentNode","templateName","switchLoginPreview","bgFieldsChange","layoutFieldsChange","udbLoginCustomizer","isProActive","body","templateFieldsChange","insertBefore","panel","currentUrl","previewer","previewUrl","loginPageUrl","send","url","settings","home","formShadowEnabled","jQuery"],"version":3,"file":"controls.js.map"}